{% extends "layout.html" %}
{% from "forms.html" import make_form, make_input_field %}
{% block head %}
{{ super() }}
{% endblock %}
{% block nav %}
<div class="drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50">
  <header class="drawer-header">
    <div class="avatar-dropdown">
      <span>{{ email }}</span>
    </div>
  </header>
  <nav class="navigation mdl-navigation mdl-color--blue-grey-800">
    <a class="mdl-navigation__link" href="{{ url_for('landing_page') }}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">home</i>Home</a>
    <a class="mdl-navigation__link" href="{{ url_for('add_page') }}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">add</i>Add Class</a>
    <a class="mdl-navigation__link" href="{{ url_for('logout') }}"><i class="mdl-color-text--blue-grey-400 material-icons" role="presentation">exit_to_app</i>Log out</a>
  </nav>
</div>
{% endblock %}
{% block body %}
<div class="content">
  <div class="cards mdl-grid">
    <div class="mdl-layout-spacer"></div>
    <div id="settings" class="updates mdl-card mdl-cell mdl-cell--8-col mdl-cell--10-col-tablet mdl-cell--10-col-phone mdl-shadow--2dp mdl-cell">
      <div class="mdl-card__title mdl-color--orange">
        <h2 class="mdl-card__title-text">Settings</h2>
      </div>
      {% call make_form('update_settings') %}
        <h4>Phone Number</h4>
        {{ make_input_field("text", "phone", "Phone Number", "[0-9]{11}", "Format: <code>14567890123</code>", phone) }}
        <div class="mdl-grid">
          <div class="mdl-layout-spacer"></div>
          <input type="submit" class="mdl-cell mdl-cell--10-col mdl-button mdl-js-button mdl-button--raised mdl-button--colored" value="Update Phone" name="action">
          <div class="mdl-layout-spacer"></div>
        </div>
        <h4>Password</h4>
        {{ make_input_field("password", "o_pw", "Current Password", ".{6,}", "Password must be at least 6 characters long") }}
        {{ make_input_field("password", "n_pw_1", "New Password", ".{6,}", "Password must be at least 6 characters long") }}
        {{ make_input_field("password", "n_pw_2", "New Password (confirm)", ".{6,}", "Password must be at least 6 characters long") }}
        <div class="mdl-grid">
          <div class="mdl-layout-spacer"></div>
          <input type="submit" class="mdl-cell mdl-cell--10-col mdl-button mdl-js-button mdl-button--raised mdl-button--colored" value="Change Password" name="action">
          <div class="mdl-layout-spacer"></div>
        </div>
        <h4>Terminate Account</h4>
        <span class="error">Warning! There is no confirmation after you click this button.
          One click and your account is gone.  You must contact us for a new one.</span>
        <div class="mdl-grid">
          <div class="mdl-layout-spacer"></div>
          <input type="submit" class="mdl-cell mdl-cell--10-col mdl-button mdl-js-button mdl-button--raised mdl-button--colored" value="Terminate Account" name="action">
          <div class="mdl-layout-spacer"></div>
        </div>
      {% endcall %}
    </div>
    <div class="mdl-layout-spacer"></div>
  </div>
</div>
{% endblock %}


